<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Roue de la Fortune - Site & Co</title>
  <style>
    body {
      background-color: #fff;
      margin: 0;
      font-family: Arial, sans-serif;
      color: black;
      display: flex;
      flex-direction: column;
      align-items: center;
    }
    header {
      width: 100%;
      background-color: #1a1a3e;
      color: white;
      padding: 15px;
      text-align: center;
      font-size: 22px;
    }
    .section {
      max-width: 800px;
      margin: 20px;
      padding: 10px;
    }
    .hidden {
      display: none;
    }
    .privacy-policy {
      text-align: justify;
      font-size: 14px;
      line-height: 1.5;
      border: 1px solid #ccc;
      padding: 15px;
      background-color: #f9f9f9;
    }
    .btn-group {
      margin-top: 15px;
      text-align: center;
    }
    button {
      margin: 10px;
      padding: 10px 20px;
      font-size: 16px;
      cursor: pointer;
    }
    .form-container {
      text-align: center;
    }
    input {
      padding: 8px;
      margin: 5px 0;
      width: 80%;
      max-width: 300px;
    }
    .wheel-container {
      position: relative;
      margin-bottom: 20px;
    }
    .wheel {
      width: 400px;
      height: 400px;
      border-radius: 50%;
      border: 10px solid #fff;
      position: relative;
      transition: transform 4s ease-out;
    }
    .pointer {
      width: 0;
      height: 0;
      border-left: 15px solid transparent;
      border-right: 15px solid transparent;
      border-bottom: 30px solid red;
      position: absolute;
      top: -20px;
      left: 50%;
      transform: translateX(-50%);
    }
  </style>
</head>
<body>
  <header>Site & Co</header>

  <!-- Section Politique de Confidentialité -->
  <section id="policySection" class="section">
    <div class="privacy-policy">
      <h2>Politique de Confidentialité et Protection des Données Personnelles</h2>
      <p><strong>1. Introduction</strong><br>
      Dans le cadre de son activité, Site & Co attache une grande importance à la protection des données personnelles de ses clients, prospects, partenaires et utilisateurs de son site internet. Conformément au Règlement Général sur la Protection des Données (RGPD) et à la législation en vigueur, nous nous engageons à assurer la sécurité et la confidentialité des données collectées.</p>
      
      <p><strong>2. Responsable du Traitement</strong><br>
      Le responsable du traitement des données est :<br>
      Site & Co<br>
      [Adresse de l’entreprise]<br>
      [Email de contact]</p>
      
      <p><strong>3. Données Collectées</strong><br>
      Nous collectons et traitons différentes catégories de données personnelles, notamment :
      <ul>
        <li>Identité (nom, prénom)</li>
        <li>Coordonnées (adresse e-mail, téléphone, adresse postale)</li>
        <li>Données de connexion et de navigation (adresse IP, cookies)</li>
        <li>Données professionnelles (poste, entreprise)</li>
      </ul>
      </p>
      
      <p><strong>4. Finalités du Traitement des Données</strong><br>
      Les données collectées sont utilisées pour :
      <ul>
        <li>La gestion de la relation client et le suivi des commandes</li>
        <li>L’envoi d’informations et de communications commerciales</li>
        <li>L’amélioration de l’expérience utilisateur sur notre site internet</li>
        <li>Le respect des obligations légales et réglementaires</li>
      </ul>
      </p>
      
      <p><strong>5. Base Légale du Traitement</strong><br>
      Les traitements de données reposent sur différentes bases légales :
      <ul>
        <li>L’exécution d’un contrat (ex. : gestion des commandes)</li>
        <li>Le consentement de l’utilisateur (ex. : envoi de newsletters)</li>
        <li>L’intérêt légitime de l’entreprise (ex. : analyse statistique)</li>
        <li>Le respect d’une obligation légale</li>
      </ul>
      </p>
      
      <p><strong>6. Durée de Conservation des Données</strong><br>
      Les données personnelles sont conservées pour une durée conforme aux obligations légales et aux recommandations de la CNIL :
      <ul>
        <li>Données clients : conservées pendant la durée de la relation commerciale + 3 ans</li>
        <li>Données de prospection : conservées 3 ans après le dernier contact</li>
        <li>Données de facturation : conservées 10 ans</li>
      </ul>
      </p>
      
      <p><strong>7. Partage des Données</strong><br>
      Les données personnelles peuvent être partagées avec :
      <ul>
        <li>Les prestataires techniques et partenaires de Site & Co</li>
        <li>Les autorités administratives et judiciaires en cas d’obligation légale</li>
      </ul>
      </p>
      
      <p><strong>8. Droits des Utilisateurs</strong><br>
      Conformément à la réglementation, vous disposez des droits suivants sur vos données personnelles :
      <ul>
        <li>Droit d’accès : obtenir une copie de vos données</li>
        <li>Droit de rectification : modifier des données inexactes</li>
        <li>Droit à l’effacement : demander la suppression de vos données</li>
        <li>Droit d’opposition : refuser le traitement de vos données</li>
        <li>Droit à la portabilité : récupérer vos données sous un format structuré</li>
      </ul>
      Pour exercer vos droits, vous pouvez nous contacter à l’adresse suivante : [Email de contact].
      </p>
      
      <p><strong>9. Sécurité des Données</strong><br>
      Nous mettons en œuvre des mesures de sécurité techniques et organisationnelles pour garantir la protection de vos données contre tout accès non autorisé, perte, altération ou divulgation.</p>
      
      <p><strong>10. Cookies</strong><br>
      Notre site utilise des cookies pour améliorer l’expérience utilisateur. Vous pouvez à tout moment modifier vos préférences via les paramètres de votre navigateur.</p>
      
      <p><strong>11. Modifications de la Politique</strong><br>
      Cette politique peut être mise à jour pour se conformer aux évolutions légales et techniques. Nous vous recommandons de la consulter régulièrement.</p>
    </div>
    <div class="btn-group">
      <button id="acceptPolicy">Accepter</button>
      <button id="refusePolicy">Refuser</button>
    </div>
  </section>

  <!-- Formulaire d'inscription -->
  <section id="formContainer" class="section hidden">
    <h2>Inscrivez-vous pour jouer</h2>
    <form id="userForm">
      <input type="text" id="prenom" placeholder="Prénom" required><br>
      <input type="text" id="nom" placeholder="Nom" required><br>
      <input type="email" id="email" placeholder="Adresse e-mail" required><br>
      <input type="tel" id="telephone" placeholder="Numéro de téléphone (facultatif)"><br>
      <button type="submit">Valider</button>
    </form>
  </section>

  <!-- Section de la roue -->
  <section id="wheelSection" class="section hidden">
    <div class="wheel-container">
      <div class="pointer"></div>
      <canvas id="wheel" class="wheel"></canvas>
    </div>
    <button id="spinButton" onclick="spinWheel()" disabled>Tourner la roue</button>
  </section>

  <script>
    // Gestion de la politique de confidentialité
    const policySection = document.getElementById("policySection");
    const acceptPolicy = document.getElementById("acceptPolicy");
    const refusePolicy = document.getElementById("refusePolicy");
    const formContainer = document.getElementById("formContainer");
    const wheelSection = document.getElementById("wheelSection");
    const userForm = document.getElementById("userForm");
    const spinButton = document.getElementById("spinButton");

    acceptPolicy.addEventListener("click", () => {
      policySection.classList.add("hidden");
      formContainer.classList.remove("hidden");
    });

    refusePolicy.addEventListener("click", () => {
      alert("Vous devez accepter la politique de confidentialité pour accéder au jeu.");
    });

    // Gestion du formulaire d'inscription
    userForm.addEventListener("submit", function(event) {
      event.preventDefault();
      formContainer.classList.add("hidden");
      wheelSection.classList.remove("hidden");
      spinButton.disabled = false;
    });

    // Configuration de la roue
    const canvas = document.getElementById("wheel");
    const ctx = canvas.getContext("2d");
    const segments = ["5% de réduction", "10% de réduction", "1 mois gratuit", "Pas de récompense"];
    const colors = ["#FF5733", "#33FF57", "#3357FF", "#F4D03F"];
    let spinning = false;

    canvas.width = 400;
    canvas.height = 400;

    function drawWheel() {
      const centerX = canvas.width / 2;
      const centerY = canvas.height / 2;
      const radius = canvas.width / 2;
      const arc = (2 * Math.PI) / segments.length;

      for (let i = 0; i < segments.length; i++) {
        ctx.beginPath();
        ctx.fillStyle = colors[i];
        ctx.moveTo(centerX, centerY);
        ctx.arc(centerX, centerY, radius, i * arc, (i + 1) * arc);
        ctx.lineTo(centerX, centerY);
        ctx.fill();

        ctx.fillStyle = "white";
        ctx.font = "16px Arial";
        ctx.textAlign = "center";
        ctx.textBaseline = "middle"; // Centrer verticalement
        ctx.save();
        ctx.translate(
          centerX + Math.cos(i * arc + arc / 2) * (radius - 40),
          centerY + Math.sin(i * arc + arc / 2) * (radius - 40)
        );
        ctx.rotate(i * arc + arc / 2);

        // Ajuster le texte pour qu'il aille à la ligne si nécessaire
        const text = segments[i];
        const maxWidth = radius - 40;
        const words = text.split(' '); // Séparer par mots

        let line = '';
        const lineHeight = 18;
        let lineWidth = 0;
        for (let j = 0; j < words.length; j++) {
          const testLine = line + (line ? ' ' : '') + words[j];
          const testWidth = ctx.measureText(testLine).width;
          if (testWidth > maxWidth && j > 0) {
            ctx.fillText(line, 0, lineHeight * 0);
            line = words[j];
            lineHeight += 20;
          } else {
            line = testLine;
          }
        }
        ctx.fillText(line, 0, lineHeight);
        ctx.restore();
      }
    }

    function spinWheel() {
      if (spinning) return;
      spinning = true;
      const randomAngle = Math.floor(Math.random() * 360) + 360 * 5;
      canvas.style.transform = `rotate(${randomAngle}deg)`;
      setTimeout(() => {
        spinning = false;
        const finalAngle = randomAngle % 360;
        const segmentIndex = Math.floor((segments.length * (360 - finalAngle)) / 360);
        alert("Résultat : " + segments[segmentIndex]);
      }, 4000);
    }

    drawWheel();
  </script>
</body>
</html>
